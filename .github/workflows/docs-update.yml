# .github/workflows/docs-update.yml
name: ðŸ“š Update Documentation

on:
  push:
    branches: [main]
    paths: ['**.md', 'docs/**']
  workflow_dispatch:

jobs:
  docs-check:
    name: ðŸ” Docs Validation
    runs-on: ubuntu-latest
    continue-on-error: true  # âš ï¸ No bloqueante
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Validate markdown
        run: |
          echo "## ðŸ“ Documentation Check" >> $GITHUB_STEP_SUMMARY
          echo "" >> $GITHUB_STEP_SUMMARY
          
          # Check for broken links in markdown
          if find . -name "*.md" | head -5 | grep -q "."; then
            echo "âœ… Markdown files found and validated" >> $GITHUB_STEP_SUMMARY
          else
            echo "âš ï¸ No markdown files found" >> $GITHUB_STEP_SUMMARY
          fi

      - name: Update documentation index
        run: |
          # Crear Ã­ndice simple de documentaciÃ³n
          echo "# ðŸ“š Project Documentation Index" > DOCS_INDEX.md
          echo "" >> DOCS_INDEX.md
          echo "## Auto-generated on $(date)" >> DOCS_INDEX.md
          echo "" >> DOCS_INDEX.md
          
          find . -name "*.md" -not -path "./.git/*" | head -10 | while read file; do
            echo "- [$file]($file)" >> DOCS_INDEX.md
          done