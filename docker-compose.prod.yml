version: '3.8'

services:
  frontend:
    image: ${FRONTEND_IMAGE:-ghcr.io/josojmf/ai_firefighter/frontend:main}
    container_name: firefighter-frontend
    ports:
      - "8000:8000"
    environment:
      - API_BASE_URL=http://167.71.42.17:5000/api
    restart: unless-stopped
    networks:
      - firefighter-network

  backend:
    image: ${BACKEND_IMAGE:-ghcr.io/josojmf/ai_firefighter/backend:main}
    container_name: firefighter-backend
    ports:
      - "5000:5000"
    environment:
      - MONGO_USER=${DB_USERNAME}
      - MONGO_PASS=${DB_PASSWORD}
      - MONGO_CLUSTER=${DB_CLUSTER}
      - SECRET_KEY=production-secret-key-change-me
    restart: unless-stopped
    networks:
      - firefighter-network

networks:
  firefighter-network:
    driver: bridge
